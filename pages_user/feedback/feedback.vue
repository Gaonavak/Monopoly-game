<template>
    <view class="feedback">

        <view class="subsection">
            <TnSubsection v-model="subsectionValue" mode="default">
                <TnSubsectionItem title="ç•Œé¢ä¸åˆç†" />
                <TnSubsectionItem title="ç©æ³•ä¸åˆç†" />
                <TnSubsectionItem title="å†…å®¹ä¸åˆè§„" />
                <TnSubsectionItem title="å…¶ä»–" />
            </TnSubsection>
        </view>

        <view class="input">
            <TnInput v-model="inputValue" type="textarea" height="500rpx" :maxlength="3000" active-color="#01BEFF"
                placeholder="è¯·è¾“å…¥æ‚¨çš„åé¦ˆ" />
        </view>


        <TnPopup class="popup" v-if="!inputValue" v-model="showPopup" width="60%">
            <view class="tn-p-lg"> æäº¤å†…å®¹ä¸ºç©ºï¼Œæäº¤å¤±è´¥ ğŸ˜­</view>
        </TnPopup>
        <TnPopup v-else v-model="showPopup">
            <view class="tn-p-lg">åé¦ˆæäº¤æˆåŠŸ ğŸ˜Š</view>
        </TnPopup>

        <button class="bottom" @click="submit">æäº¤åé¦ˆ</button>
    </view>
</template>

<script setup>
    import {
        ref
    } from 'vue'
    import TnSubsection from '@/uni_modules/tuniaoui-vue3/components/subsection/src/subsection.vue'
    import TnSubsectionItem from '@/uni_modules/tuniaoui-vue3/components/subsection/src/subsection-item.vue'
    import TnInput from '@/uni_modules/tuniaoui-vue3/components/input/src/input.vue'
    import TnPopup from '@/uni_modules/tuniaoui-vue3/components/popup/src/popup.vue'

    const subsectionValue = ref(0)
    const showPopup = ref(false)
    const inputValue = ref('')
    const submit = () => {
        showPopup.value = true;
    }
</script>

<style lang="scss" scoped>
    .feedback {
        width: 100%;
        min-height: 100vh;
        background-color: $bg-base;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .subsection {
        width: 100%;
        max-width: 690rpx;
        margin: 40rpx;
    }

    .input {
        width: 100%;
        max-width: 690rpx;
        border-radius: $border-radius;
        margin: 40rpx;
        background-color: $bg-card;
    }

    .bottom {
        width: 100%;
        max-width: 690rpx;
        margin: 40rpx auto;
        border-radius: $border-radius;
        color: white;
        background-color: #01BEFF;
    }
    
    .popup{
        text-align: center;
    }
</style>